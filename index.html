<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ë–∏–∞—Ç–ª–æ–Ω –ú–µ–Ω–µ–¥–∂–µ—Ä</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/character.css">
</head>
<body>
    <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
    <div id="mainMenu" class="screen active">
        <div class="menu-container">
            <div class="stadium-background">
                <div class="stadium"></div>
                <div class="snow"></div>
                <div class="biathletes"></div>
            </div>
            
            <div class="menu-content">
                <h1 class="game-title">üèÅ –ë–∏–∞—Ç–ª–æ–Ω –ú–µ–Ω–µ–¥–∂–µ—Ä</h1>
                <div class="menu-options">
                    <div class="race-selection">
                        <h2>–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ–Ω–∫—É</h2>
                        <div class="race-cards">
                            <div class="race-card selected" data-race="sprint">
                                <div class="race-icon">‚ö°</div>
                                <h3>–°–ø—Ä–∏–Ω—Ç</h3>
                                <p>3 –∫–º ‚Ä¢ 2 —Å—Ç—Ä–µ–ª—å–±—ã</p>
                                <div class="race-stats">
                                    <span>üìè 3km</span>
                                    <span>üéØ 2x</span>
                                    <span>‚è±Ô∏è 25min</span>
                                </div>
                            </div>
                            
                            <div class="race-card" data-race="pursuit">
                                <div class="race-icon">üèÉ</div>
                                <h3>–ì–æ–Ω–∫–∞ –ø—Ä–µ—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è</h3>
                                <p>5 –∫–º ‚Ä¢ 4 —Å—Ç—Ä–µ–ª—å–±—ã</p>
                                <div class="race-stats">
                                    <span>üìè 5km</span>
                                    <span>üéØ 4x</span>
                                    <span>‚è±Ô∏è 35min</span>
                                </div>
                            </div>
                            
                            <div class="race-card" data-race="individual">
                                <div class="race-icon">üë§</div>
                                <h3>–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è</h3>
                                <p>6 –∫–º ‚Ä¢ 4 —Å—Ç—Ä–µ–ª—å–±—ã</p>
                                <div class="race-stats">
                                    <span>üìè 6km</span>
                                    <span>üéØ 4x</span>
                                    <span>‚è±Ô∏è 45min</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="menu-buttons">
                        <button class="menu-btn primary" id="startRace">
                            üéÆ –ù–∞—á–∞—Ç—å –≥–æ–Ω–∫—É
                        </button>
                        <button class="menu-btn secondary" id="settingsBtn">
                            ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                        </button>
                        <button class="menu-btn secondary" id="locationBtn">
                            üåç –í—ã–±–æ—Ä –ª–æ–∫–∞—Ü–∏–∏
                        </button>
                        <button class="menu-btn secondary" id="characterBtn">
                            üë§ –ü–µ—Ä—Å–æ–Ω–∞–∂
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ -->
    <div id="characterScreen" class="screen">
        <div class="character-container">
            <div class="character-header">
                <h1 class="character-title">üë§ –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</h1>
                <button class="back-btn" id="backToMenuBtn">‚Üê –ù–∞–∑–∞–¥</button>
            </div>
            
            <div class="character-content">
                <!-- –í–∫–ª–∞–¥–∫–∏ -->
                <div class="tabs">
                    <button class="tab-btn active" data-tab="stats">üìä –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</button>
                    <button class="tab-btn" data-tab="equipment">üéí –≠–∫–∏–ø–∏—Ä–æ–≤–∫–∞</button>
                </div>
                
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –≤–∫–ª–∞–¥–æ–∫ -->
                <div class="tab-content">
                    <!-- –í–∫–ª–∞–¥–∫–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ -->
                    <div id="stats-tab" class="tab-pane active">
                        <div class="stats-container">
                            <div class="points-info">
                                <div class="available-points">
                                    –î–æ—Å—Ç—É–ø–Ω–æ –æ—á–∫–æ–≤: <span id="availablePoints">10</span>
                                </div>
                            </div>
                            
                            <div class="stats-grid">
                                <!-- –°–∫–æ—Ä–æ—Å—Ç—å –±–µ–≥–∞ -->
                                <div class="stat-card">
                                    <div class="stat-header">
                                        <div class="stat-icon">üèÉ</div>
                                        <div class="stat-info">
                                            <h3>–°–∫–æ—Ä–æ—Å—Ç—å –±–µ–≥–∞</h3>
                                            <p>–í–ª–∏—è–µ—Ç –Ω–∞ –±–∞–∑–æ–≤—É—é —Å–∫–æ—Ä–æ—Å—Ç—å –≤ –≥–æ–Ω–∫–µ</p>
                                        </div>
                                    </div>
                                    <div class="stat-controls">
                                        <button class="stat-btn minus" data-stat="runningSpeed">-</button>
                                        <div class="stat-value" id="runningSpeedValue">5</div>
                                        <button class="stat-btn plus" data-stat="runningSpeed">+</button>
                                    </div>
                                </div>
                                
                                <!-- –ú–µ—Ç–∫–æ—Å—Ç—å -->
                                <div class="stat-card">
                                    <div class="stat-header">
                                        <div class="stat-icon">üéØ</div>
                                        <div class="stat-info">
                                            <h3>–ú–µ—Ç–∫–æ—Å—Ç—å</h3>
                                            <p>–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–æ–ø–∞–¥–∞–Ω–∏—è –≤ –º–∏—à–µ–Ω—å</p>
                                        </div>
                                    </div>
                                    <div class="stat-controls">
                                        <button class="stat-btn minus" data-stat="accuracy">-</button>
                                        <div class="stat-value" id="accuracyValue">70%</div>
                                        <button class="stat-btn plus" data-stat="accuracy">+</button>
                                    </div>
                                </div>
                                
                                <!-- –°–∫–æ—Ä–æ—Å—Ç—å —Å—Ç—Ä–µ–ª—å–±—ã -->
                                <div class="stat-card">
                                    <div class="stat-header">
                                        <div class="stat-icon">‚ö°</div>
                                        <div class="stat-info">
                                            <h3>–°–∫–æ—Ä–æ—Å—Ç—å —Å—Ç—Ä–µ–ª—å–±—ã</h3>
                                            <p>–í—Ä–µ–º—è –º–µ–∂–¥—É –≤—ã—Å—Ç—Ä–µ–ª–∞–º–∏</p>
                                        </div>
                                    </div>
                                    <div class="stat-controls">
                                        <button class="stat-btn minus" data-stat="shootingSpeed">-</button>
                                        <div class="stat-value" id="shootingSpeedValue">2.0</div>
                                        <button class="stat-btn plus" data-stat="shootingSpeed">+</button>
                                    </div>
                                </div>
                                
                                <!-- –í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å -->
                                <div class="stat-card">
                                    <div class="stat-header">
                                        <div class="stat-icon">üí™</div>
                                        <div class="stat-info">
                                            <h3>–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å</h3>
                                            <p>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –∑–∞–ø–∞—Å —Å–∏–ª –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ</p>
                                        </div>
                                    </div>
                                    <div class="stat-controls">
                                        <button class="stat-btn minus" data-stat="stamina">-</button>
                                        <div class="stat-value" id="staminaValue">100</div>
                                        <button class="stat-btn plus" data-stat="stamina">+</button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="stats-actions">
                                <button class="reset-btn" id="resetStatsBtn">üîÑ –°–±—Ä–æ—Å–∏—Ç—å</button>
                                <button class="save-btn" id="saveStatsBtn">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- –í–∫–ª–∞–¥–∫–∞ —ç–∫–∏–ø–∏—Ä–æ–≤–∫–∏ -->
                    <div id="equipment-tab" class="tab-pane">
                        <div class="equipment-container">
                            <div class="equipment-placeholder">
                                <div class="placeholder-icon">üéí</div>
                                <h3>–°–∏—Å—Ç–µ–º–∞ —ç–∫–∏–ø–∏—Ä–æ–≤–∫–∏</h3>
                                <p>–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ...</p>
                                <p>–°–∫–æ—Ä–æ –∑–¥–µ—Å—å –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —É–ª—É—á—à–∞—Ç—å –ª—ã–∂–∏, –≤–∏–Ω—Ç–æ–≤–∫—É –∏ —Å–Ω–∞—Ä—è–∂–µ–Ω–∏–µ</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –≥–æ–Ω–∫–∏ -->
    <div id="gameScreen" class="screen">
        <div class="app-container">
            <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
            <header class="race-header">
                <div class="race-info">
                    <div class="laps-info">
                        <div class="lap-display">
                            <span class="lap-label">–ö–†–£–ì</span>
                            <span class="current-lap" id="currentLap">1</span>
                            <span class="lap-divider">/</span>
                            <span class="total-laps" id="totalLaps">3</span>
                        </div>
                        <div class="segment-display">
                            <span class="segment-label">–û–¢–†–ï–ó–û–ö</span>
                            <span class="current-segment" id="currentSegmentInLap">1</span>
                            <span class="segment-divider">/</span>
                            <span class="total-segments" id="totalSegmentsPerLap">20</span>
                        </div>
                    </div>
                    <div class="player-stats">
                        <div class="stat-item">
                            <span class="stat-label">‚ù§Ô∏è</span>
                            <span class="stat-value" id="pulseValue">145</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">üí™</span>
                            <span class="stat-value" id="staminaValue">75%</span>
                        </div>
                    </div>
                </div>
            </header>

            <!-- –ë–ª–æ–∫ —Å—Ç—Ä–µ–ª—å–±—ã -->
            <div id="shootingScreen" class="shooting-screen">
                <div class="shooting-container">
                    <div class="shooting-header">
                        <h2 id="shootingRoundName">–°—Ç—Ä–µ–ª—å–±–∞ –ª—ë–∂–∞</h2>
                        <div class="shooting-timer" id="shootingTimer">
                            –û–∂–∏–¥–∞–Ω–∏–µ —Å—Ç—Ä–µ–ª—å–±—ã...
                        </div>
                    </div>
                    
                    <div class="shooting-competitors" id="shootingCompetitors">
                        <!-- –°–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å –º–∏—à–µ–Ω—è–º–∏ –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                    
                    <div class="shooting-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" id="shootingProgress"></div>
                        </div>
                        <div class="progress-text" id="shootingProgressText"></div>
                    </div>
                </div>
            </div>

            <!-- –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤ -->
            <main class="race-main">
                <div class="leaderboard-wrapper">
                    <div class="leaderboard-container">
                        <div class="leaderboard-header">
                            <span class="header-pos">–ü–û–ó</span>
                            <span class="header-flag">–°–¢–†–ê–ù–ê</span>
                            <span class="header-name">–ë–ò–ê–¢–õ–û–ù–ò–°–¢</span>
                            <span class="header-gap">–û–¢–°–¢–ê–í–ê–ù–ò–ï</span>
                        </div>
                        <div class="leaderboard-content" id="competitorsList">
                            <!-- –ó–∞–ø–æ–ª–Ω–∏—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript -->
                        </div>
                    </div>
                </div>
            </main>

            <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
            <footer class="control-panel">
                <button class="control-btn slow-btn" id="slowBtn">
                    <div class="btn-icon">üê¢</div>
                    <div class="btn-label">–°–Ω–∏–∑–∏—Ç—å —Ç–µ–º–ø</div>
                </button>
                
                <button class="control-btn menu-btn" id="menuBtn">
                    <div class="btn-icon">‚öôÔ∏è</div>
                    <div class="btn-label">–ú–µ–Ω—é</div>
                </button>
                
                <button class="control-btn sprint-btn" id="sprintBtn">
                    <div class="btn-icon">üí®</div>
                    <div class="btn-label">–°–ø—Ä–∏–Ω—Ç!</div>
                </button>
            </footer>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω —Å—Ç–∞—Ä—Ç–∞ –≥–æ–Ω–∫–∏ -->
    <div id="startStageScreen" class="stage-screen">
        <div class="stage-container">
            <div class="stage-header">
                <h2 class="stage-title">üèÅ –°—Ç–∞—Ä—Ç –≥–æ–Ω–∫–∏</h2>
                <div class="stage-subtitle" id="startRaceName">–°–ø—Ä–∏–Ω—Ç - 3 –∫–º</div>
            </div>
            
            <div class="stage-stats">
                <div class="stat-row">
                    <span class="stat-label">–î–∏—Å—Ç–∞–Ω—Ü–∏—è:</span>
                    <span class="stat-value" id="startDistance">3 –∫–º</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">–°—Ç—Ä–µ–ª—å–±—ã:</span>
                    <span class="stat-value" id="startShootings">2</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">–í–∞—à–∞ –ø–æ–∑–∏—Ü–∏—è:</span>
                    <span class="stat-value" id="startPosition">4</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å:</span>
                    <span class="stat-value" id="startStamina">100%</span>
                </div>
            </div>
            
            <button class="stage-start-btn" id="startRaceStageBtn">
                üéÆ –ù–∞—á–∞—Ç—å –≥–æ–Ω–∫—É
            </button>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –ø–µ—Ä–µ–¥ —Å—Ç—Ä–µ–ª—å–±–æ–π -->
    <div id="preShootingScreen" class="stage-screen">
        <div class="stage-container">
            <div class="stage-header">
                <h2 class="stage-title" id="preShootingTitle">üéØ –°—Ç—Ä–µ–ª—å–±–∞ –ª—ë–∂–∞</h2>
                <div class="stage-subtitle">–≠—Ç–∞–ø —Å—Ç—Ä–µ–ª—å–±—ã</div>
            </div>
            
            <div class="stage-stats">
                <div class="stat-row">
                    <span class="stat-label">–í–∞—à–∞ –ø–æ–∑–∏—Ü–∏—è:</span>
                    <span class="stat-value" id="preShootingPosition">4</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">–û—Ç—Å—Ç–∞–≤–∞–Ω–∏–µ:</span>
                    <span class="stat-value" id="preShootingGap">+15.3</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">–¢–æ—á–Ω–æ—Å—Ç—å:</span>
                    <span class="stat-value" id="preShootingAccuracy">80%</span>
                </div>
                <div class="wind-indicator">
                    <span class="wind-icon">üí®</span>
                    <span class="wind-value">–£–º–µ—Ä–µ–Ω–Ω—ã–π –≤–µ—Ç–µ—Ä</span>
                </div>
            </div>
            
            <button class="stage-start-btn" id="startShootingBtn">
                üéØ –ù–∞—á–∞—Ç—å —Å—Ç—Ä–µ–ª—å–±—É
            </button>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –ø–æ—Å–ª–µ —Å—Ç—Ä–µ–ª—å–±—ã -->
    <div id="postShootingScreen" class="stage-screen">
        <div class="stage-container">
            <div class="stage-header">
                <h2 class="stage-title">üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å—Ç—Ä–µ–ª—å–±—ã</h2>
                <div class="stage-subtitle" id="postShootingSubtitle">–°—Ç—Ä–µ–ª—å–±–∞ –ª—ë–∂–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞</div>
            </div>
            
            <div class="shooting-results">
                <div class="stat-row">
                    <span class="stat-label">–ü–æ–ø–∞–¥–∞–Ω–∏—è:</span>
                    <span class="stat-value" id="postShootingHits">4/5</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">–ü—Ä–æ–º–∞—Ö–∏:</span>
                    <span class="stat-value" id="postShootingMisses">1</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">–®—Ç—Ä–∞—Ñ–Ω–æ–µ –≤—Ä–µ–º—è:</span>
                    <span class="stat-value" id="postShootingPenalty">+10 —Å–µ–∫</span>
                </div>
                
                <div class="targets-preview" id="postShootingTargets">
                    <!-- –ú–∏—à–µ–Ω–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                </div>
            </div>
            
            <button class="stage-start-btn" id="continueAfterShootingBtn">
                ‚õ∑Ô∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≥–æ–Ω–∫—É
            </button>
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ JavaScript —Ñ–∞–π–ª–æ–≤ -->
    <script src="js/core/game.js"></script>
    <script src="js/core/player.js"></script>
    <script src="js/screens/main-menu.js"></script>
    <script src="js/screens/game-screen.js"></script>
    <script src="js/screens/character-screen.js"></script>
    <script src="js/components/race-manager.js"></script>
    <script src="js/components/shooting-engine.js"></script>
    <script src="js/utils/helpers.js"></script>
    <script src="js/utils/constants.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('–ó–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä—ã...');
            
            try {
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
                window.biathlonGame = new BiathlonGame();
                window.playerProfile = new PlayerProfile();
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–æ–≤
                window.mainMenu = new MainMenu();
                window.gameScreen = new GameScreen();
                window.characterScreen = new CharacterScreen();
                
                console.log('–ò–≥—Ä–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–∞!');
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error);
                alert('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–≥—Ä—ã. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å.');
            }
        });
    </script>
</body>
</html>
